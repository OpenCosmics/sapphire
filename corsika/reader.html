<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>CORSIKA Reader &mdash; SAPPHiRE 0.12.6 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/hisparc_style.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.12.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="SAPPHiRE 0.12.6 documentation" href="../index.html" />
    <link rel="up" title="CORSIKA simulations" href="../corsika.html" />
    <link rel="next" title="Store CORSIKA data as HDF5" href="store_corsika_data.html" />
    <link rel="prev" title="Convert CORSIKA simulations on Stoomboot" href="qsub_store_corsika_data.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="store_corsika_data.html" title="Store CORSIKA data as HDF5"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="qsub_store_corsika_data.html" title="Convert CORSIKA simulations on Stoomboot"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">SAPPHiRE 0.12.6 documentation</a> &raquo;</li>
          <li><a href="../sapphire.html" >SAPPHiRE Reference</a> &raquo;</li>
          <li><a href="../corsika.html" accesskey="U">CORSIKA simulations</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-sapphire.corsika.reader">
<span id="corsika-reader"></span><h1>CORSIKA Reader<a class="headerlink" href="#module-sapphire.corsika.reader" title="Permalink to this headline">¶</a></h1>
<p>Read CORSIKA data files.</p>
<p>This provides functionality to read CORSIKA output
files with <a class="reference external" href="www.python.org">Python</a>. It provides the following main
classes:</p>
<ul class="simple">
<li><a class="reference internal" href="#sapphire.corsika.reader.CorsikaFile" title="sapphire.corsika.reader.CorsikaFile"><tt class="xref py py-class docutils literal"><span class="pre">CorsikaFile</span></tt></a>: The file class provides a
generator over all events in the file.</li>
<li><a class="reference internal" href="#sapphire.corsika.reader.CorsikaEvent" title="sapphire.corsika.reader.CorsikaEvent"><tt class="xref py py-class docutils literal"><span class="pre">CorsikaEvent</span></tt></a>: The event class that
provides a generator over all particles at ground.</li>
</ul>
<p>and the following classes that correspond to the sub-blocks defined in
the CORSIKA manual:</p>
<ul class="simple">
<li><a class="reference internal" href="blocks.html#sapphire.corsika.blocks.RunHeader" title="sapphire.corsika.blocks.RunHeader"><tt class="xref py py-class docutils literal"><span class="pre">RunHeader</span></tt></a></li>
<li><a class="reference internal" href="blocks.html#sapphire.corsika.blocks.RunEnd" title="sapphire.corsika.blocks.RunEnd"><tt class="xref py py-class docutils literal"><span class="pre">RunEnd</span></tt></a></li>
<li><a class="reference internal" href="blocks.html#sapphire.corsika.blocks.EventHeader" title="sapphire.corsika.blocks.EventHeader"><tt class="xref py py-class docutils literal"><span class="pre">EventHeader</span></tt></a></li>
<li><a class="reference internal" href="blocks.html#sapphire.corsika.blocks.EventEnd" title="sapphire.corsika.blocks.EventEnd"><tt class="xref py py-class docutils literal"><span class="pre">EventEnd</span></tt></a></li>
<li><a class="reference internal" href="blocks.html#sapphire.corsika.blocks.ParticleData" title="sapphire.corsika.blocks.ParticleData"><tt class="xref py py-class docutils literal"><span class="pre">ParticleData</span></tt></a></li>
<li><a class="reference internal" href="blocks.html#sapphire.corsika.blocks.CherenkovData" title="sapphire.corsika.blocks.CherenkovData"><tt class="xref py py-class docutils literal"><span class="pre">CherenkovData</span></tt></a></li>
</ul>
<p>Additionally version for thinned showers are available:</p>
<ul class="simple">
<li><a class="reference internal" href="#sapphire.corsika.reader.CorsikaFileThin" title="sapphire.corsika.reader.CorsikaFileThin"><tt class="xref py py-class docutils literal"><span class="pre">CorsikaFileThin</span></tt></a></li>
<li><a class="reference internal" href="blocks.html#sapphire.corsika.blocks.ParticleDataThin" title="sapphire.corsika.blocks.ParticleDataThin"><tt class="xref py py-class docutils literal"><span class="pre">ParticleDataThin</span></tt></a></li>
<li><a class="reference internal" href="blocks.html#sapphire.corsika.blocks.CherenkovDataThin" title="sapphire.corsika.blocks.CherenkovDataThin"><tt class="xref py py-class docutils literal"><span class="pre">CherenkovDataThin</span></tt></a></li>
</ul>
<div class="section" id="issues">
<h2>Issues<a class="headerlink" href="#issues" title="Permalink to this headline">¶</a></h2>
<p>This module does not handle platform dependent issues such as byte
ordering (endianness) and field size. This was the result of an
afternoon hack and has only been tested with files generated using
32 bit CORSIKA files on a linux system compiled with gfortran.</p>
<ul class="simple">
<li><strong>Field Size</strong>: According to the CORSIKA user manual section 10.2
all quantities are written as single precision real numbers
independently of 32-bit or 64-bit, so each field in the file
should be 4 bytes long.</li>
<li><strong>Endianness</strong>: There is no check for byte ordering. It can be added
using Python&#8217;s <a class="reference external" href="http://docs.python.org/library/struct.html#struct-alignment">struct module</a>.</li>
<li><strong>Special Particles</strong>: This module currently ignores all special
(book-keeping) particles like for muon additional information and
history.</li>
</ul>
</div>
<div class="section" id="more-info">
<h2>More Info<a class="headerlink" href="#more-info" title="Permalink to this headline">¶</a></h2>
<p>For short information on fortran unformatted binary files, take a look
at <a class="reference external" href="http://paulbourke.net/dataformats/reading/">http://paulbourke.net/dataformats/reading/</a></p>
<p>For detailed information on the CORSIKA format, check the &#8216;Outputs&#8217;
chapter in the CORSIKA user manual. In particular, check the &#8216;Normal
Particle Output&#8217; section.</p>
</div>
<div class="section" id="authors">
<h2>Authors<a class="headerlink" href="#authors" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Javier Gonzalez &lt;<a class="reference external" href="mailto:jgonzalez&#37;&#52;&#48;ik&#46;fzk&#46;de">jgonzalez<span>&#64;</span>ik<span>&#46;</span>fzk<span>&#46;</span>de</a>&gt;</li>
<li>Arne de Laat &lt;<a class="reference external" href="mailto:adelaat&#37;&#52;&#48;nikhef&#46;nl">adelaat<span>&#64;</span>nikhef<span>&#46;</span>nl</a>&gt;</li>
</ul>
<dl class="class">
<dt id="sapphire.corsika.reader.CorsikaEvent">
<em class="property">class </em><tt class="descclassname">sapphire.corsika.reader.</tt><tt class="descname">CorsikaEvent</tt><big>(</big><em>raw_file</em>, <em>header_index</em>, <em>end_index</em><big>)</big><a class="headerlink" href="#sapphire.corsika.reader.CorsikaEvent" title="Permalink to this definition">¶</a></dt>
<dd><p>CorsikaEvent constructor.</p>
<p>The user never calls this. The CorsikaFile does.</p>
<dl class="method">
<dt id="sapphire.corsika.reader.CorsikaEvent.get_header">
<tt class="descname">get_header</tt><big>(</big><big>)</big><a class="headerlink" href="#sapphire.corsika.reader.CorsikaEvent.get_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Event Header</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an instance of EventHeader</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.corsika.reader.CorsikaEvent.get_end">
<tt class="descname">get_end</tt><big>(</big><big>)</big><a class="headerlink" href="#sapphire.corsika.reader.CorsikaEvent.get_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Event end sub-block</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an instance of EventEnd</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.corsika.reader.CorsikaEvent.get_particles">
<tt class="descname">get_particles</tt><big>(</big><big>)</big><a class="headerlink" href="#sapphire.corsika.reader.CorsikaEvent.get_particles" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator over particles in the event.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This generator filters out additional muon information and
all particles at observation levels other than 1.</p>
</div>
<p>Use like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">particle</span> <span class="ow">in</span> <span class="n">event</span><span class="o">.</span><span class="n">get_particles</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yield:</th><td class="field-body">each particle in the event</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sapphire.corsika.reader.CorsikaFile">
<em class="property">class </em><tt class="descclassname">sapphire.corsika.reader.</tt><tt class="descname">CorsikaFile</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#sapphire.corsika.reader.CorsikaFile" title="Permalink to this definition">¶</a></dt>
<dd><p>CORSIKA output file handler</p>
<p>This class will probide an interface for CORSIKA output files.
Allowing you go get at the events and particles in the file.
This class is meant for unthinned simulations.</p>
<p>CorsikaFile constructor</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">the filemame of the CORSIKA data file</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="sapphire.corsika.reader.CorsikaFile.check">
<tt class="descname">check</tt><big>(</big><big>)</big><a class="headerlink" href="#sapphire.corsika.reader.CorsikaFile.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check DAT file format</p>
<p>Some basic sanity checks.</p>
<p>Fortran unformatted files are written in &#8216;blocks&#8217;. Each block
has a header and end. They both contain the same
information: the number of bytes in the block.</p>
<p>This function only checks if there is an integer number of
blocks in the file and if the header and end are equal.</p>
<p>Here would be the place to dynamically check for endiannes and
field size.</p>
</dd></dl>

<dl class="method">
<dt id="sapphire.corsika.reader.CorsikaFile.get_sub_blocks">
<tt class="descname">get_sub_blocks</tt><big>(</big><big>)</big><a class="headerlink" href="#sapphire.corsika.reader.CorsikaFile.get_sub_blocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the sub-blocks in the file.</p>
<p>Normally one would not need this function but it is here because
I have used it.</p>
</dd></dl>

<dl class="method">
<dt id="sapphire.corsika.reader.CorsikaFile.get_header">
<tt class="descname">get_header</tt><big>(</big><big>)</big><a class="headerlink" href="#sapphire.corsika.reader.CorsikaFile.get_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Run header</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an instance of RunHeader</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.corsika.reader.CorsikaFile.get_end">
<tt class="descname">get_end</tt><big>(</big><big>)</big><a class="headerlink" href="#sapphire.corsika.reader.CorsikaFile.get_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Run end</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an instance of RunEnd</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.corsika.reader.CorsikaFile.get_events">
<tt class="descname">get_events</tt><big>(</big><big>)</big><a class="headerlink" href="#sapphire.corsika.reader.CorsikaFile.get_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator over the Events in the file</p>
<p>This method is a generator over the events in the file.
Use it like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">my_file</span><span class="o">.</span><span class="n">get_events</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sapphire.corsika.reader.CorsikaFile.Blocks">
<tt class="descname">Blocks</tt><big>(</big><big>)</big><a class="headerlink" href="#sapphire.corsika.reader.CorsikaFile.Blocks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sapphire.corsika.reader.CorsikaFileThin">
<em class="property">class </em><tt class="descclassname">sapphire.corsika.reader.</tt><tt class="descname">CorsikaFileThin</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#sapphire.corsika.reader.CorsikaFileThin" title="Permalink to this definition">¶</a></dt>
<dd><p>CORSIKA thinned output file handler</p>
<p>Same as the unthinned output handler, but with support for
the different format, particles also have the weight property.
This class is meant for thinned simulations.</p>
<p>CorsikaFileThin constructor</p>
<p>It takes a filename as argument</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/header.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">CORSIKA Reader</a><ul>
<li><a class="reference internal" href="#issues">Issues</a></li>
<li><a class="reference internal" href="#more-info">More Info</a></li>
<li><a class="reference internal" href="#authors">Authors</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="qsub_store_corsika_data.html"
                        title="previous chapter">Convert CORSIKA simulations on Stoomboot</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="store_corsika_data.html"
                        title="next chapter">Store CORSIKA data as HDF5</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/corsika/reader.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="store_corsika_data.html" title="Store CORSIKA data as HDF5"
             >next</a> |</li>
        <li class="right" >
          <a href="qsub_store_corsika_data.html" title="Convert CORSIKA simulations on Stoomboot"
             >previous</a> |</li>
        <li><a href="../index.html">SAPPHiRE 0.12.6 documentation</a> &raquo;</li>
          <li><a href="../sapphire.html" >SAPPHiRE Reference</a> &raquo;</li>
          <li><a href="../corsika.html" >CORSIKA simulations</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009-2015, David Fokkema, Arne de Laat.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>